#!/usr/bin/env node
import{transform as r}from"esbuild";import{readFile as e,writeFile as n}from"fs/promises";import{parseArgs as a}from"util";const{values:c,positionals:f}=a({args:process.argv,options:{stdio:{type:"boolean"}},strict:!0,allowPositionals:!0});async function i(o){const{code:t}=await r(o,{loader:"ts",minify:!0});return t}if(c.stdio){let o="";process.stdin.setEncoding("utf8");for await(const s of process.stdin)o+=s;const t=await i(o);process.stdout.write(t)}else{const o=f[2];o||(console.error("Error: No file path provided"),process.exit(1));const t=await e(o,"utf8"),s=await i(t);await n(o,s)}
